# üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase

## üìÅ –§–∞–π–ª—ã

- **`supabase-schema.sql`** - –ü–æ–ª–Ω–∞—è SQL —Å—Ö–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü, RLS –ø–æ–ª–∏—Ç–∏–∫ –∏ —Ñ—É–Ω–∫—Ü–∏–π
- **`supabase-migration-guide.md`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- **`supabaseClient.js`** - –ö–ª–∏–µ–Ω—Ç Supabase —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Supabase

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ –ø–∞–Ω–µ–ª–∏ Supabase
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase-schema.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ (Run)

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –ø–∞–ø–∫–µ `frontend`:

```env
REACT_APP_SUPABASE_URL=https://your-project.supabase.co
REACT_APP_SUPABASE_ANON_KEY=your-anon-key
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd frontend
npm install @supabase/supabase-js
```

### 5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∏–µ–Ω—Ç

```javascript
import { supabase, getCourses, addToCart } from './services/supabaseClient';

// –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å—ã
const courses = await getCourses();

// –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
await addToCart(userId, courseId);
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã **Row Level Security (RLS)**:

- ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í—Å–µ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –∫—É—Ä—Å—ã
- ‚úÖ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ –∫—É—Ä—Å–∞–º–∏
- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

1. **profiles** - –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **categories** - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫—É—Ä—Å–æ–≤  
3. **courses** - –ö—É—Ä—Å—ã (–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ)
4. **lessons** - –£—Ä–æ–∫–∏ (–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ)
5. **cart_items** - –ö–æ—Ä–∑–∏–Ω–∞
6. **orders** - –ó–∞–∫–∞–∑—ã
7. **order_items** - –≠–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–æ–≤
8. **user_progress** - –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
9. **purchased_courses** - –ö—É–ø–ª–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã

## üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç—Ä–µ—Ö —è–∑—ã–∫–∞—Ö:
- `_ru` - –†—É—Å—Å–∫–∏–π
- `_en` - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π  
- `_kz` - –ö–∞–∑–∞—Ö—Å–∫–∏–π

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è** –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤** –≤ purchased_courses –ø—Ä–∏ –∑–∞–∫–∞–∑–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ–ª—è `updated_at`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–º. —Ñ–∞–π–ª `supabaseClient.js` –¥–ª—è –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.
